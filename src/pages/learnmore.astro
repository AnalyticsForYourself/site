---
import Layout from "../layouts/Layout.astro";
import QuestionForm from '../components/QuestionForm.astro';
import { getCollection } from "astro:content";

const collection = await getCollection('faq');
---
<Layout>
    <section class="min-h-50 pt-5">
        <h1>Frequently Asked Questions</h1>
        <p>We understand your works are personal to you! Just like the things we write are personal to us.</p>
        <p>To help you get the most out of your analytics, we gathered some common questions to help you learn more about what to expect.</p>
        <div class="vstack gap-2">
            {collection.map(({ id, data }) => {
                return <div class="vstack gap-4" id={id}>
                    <h2 class="mt-3">{id[0].toUpperCase() + id.slice(1)}</h2>
                    {data.map(({ q, a }, i) => {
                        return <details name={id} id={`${id}-${i}`}>
                            <summary class="h4 font-sans">{q}</summary>
                            <p>{a}</p>
                        </details>
                    })}
                </div>
            })}
        </div>
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-lg-8">
                    <QuestionForm />
                </div>
            </div>
        </div>
    </section>
</Layout>